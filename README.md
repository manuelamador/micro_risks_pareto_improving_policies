# Micro Risks and Pareto Improving Policies 

The repository contains the code associated with the paper:

["Micro Risks and (Robust) Pareto Improving Policies"](https://manuelamador.me/files/rpi.pdf)
    
by Mark Aguiar, Manuel Amador and Cristina Arellano (2024).

Leonardo Barreto provided excellent research assistance and greatly contributed to this code base. 


## Structure

The subfolder `src` contains the main source code.

The subfolder `scripts` contains contains the main julia script.  

The subfolder `output` contains the figures and tables generated by the script. 

## Running the code 

The code is written in [Julia](https://julialang.org/downloads/), tested on **Version 1.10.4 (2024-06-04)**.

IMPORTANT: The code uses multithreading, if available, for a siginificant speed up, so make sure to start julia with the ability to run multiple threads. To let Julia decide the number of threads to use, start with the option `-t auto`:

    $ julia -t auto

See [Julia Multi-threading](https://docs.julialang.org/en/v1/manual/multi-threading/#man-multithreading) for details.

To run the code, open a julia prompt at the root of this repository. 
Then type:

    julia> include(joinpath("scripts", "main.jl"))

The script will 

- Automatically download and install all the necessary packages.

- Delete all of the output in the "output" directory. 

- Repopulate the output directory with the figures and tables.
 
The script (once the necessary packages are installed) takes approximately 30 minutes to run on a Surface Pro 8 laptop with 

- Processor: 11th Gen Intel(R) Core(TM) i7-1185G7 @ 3.00GHz, 2995 Mhz, 4 Core(s), 8 Logical Processor(s), 

- 16GB of RAM, 

- Running Windows 11 Pro. 
